{"version":3,"file":"artist-detail.component.js","sourceRoot":"","sources":["artist-detail.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;YASA;gBAKE,+BAAoB,QAAuB,EAAU,OAAe,EAAU,YAAyB;oBAAnF,aAAQ,GAAR,QAAQ,CAAe;oBAAU,YAAO,GAAP,OAAO,CAAQ;oBAAU,iBAAY,GAAZ,YAAY,CAAa;gBACvG,CAAC;gBAED,wCAAQ,GAAR;oBAAA,iBAUC;oBATC,IAAI,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC7C,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAA,MAAM;wBAC/B,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;4BACX,KAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC;4BAC5B,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;wBACvB,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACN,KAAI,CAAC,QAAQ,EAAE,CAAC;wBAClB,CAAC;oBACH,CAAC,CAAC,CAAC;gBACL,CAAC;gBAED,mDAAmB,GAAnB,UAAoB,IAA0B,EAAE,IAA0B;oBACxE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;wBACvD,MAAM,CAAC,IAAI,CAAC;oBACd,CAAC;oBAED,MAAM,CAAC,IAAI,OAAO,CAAU,UAAC,OAAO,EAAE,MAAM,IAAK,OAAA,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,EAA3C,CAA2C,CAAC,CAAC;gBAChG,CAAC;gBAED,sCAAM,GAAN;oBACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;oBACjC,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAClB,CAAC;gBAED,oCAAI,GAAJ;oBACE,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC;oBACjC,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAClB,CAAC;gBAED,wCAAQ,GAAR;oBACE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;gBACxC,CAAC;gBA5CH;oBAAC,gBAAS,CAAC;wBACT,WAAW,EAAE,yCAAyC;wBACtD,SAAS,EAAE,CAAC,wCAAwC,CAAC;qBACtD,CAAC;;yCAAA;gBA0CF,4BAAC;YAAD,CAAC,AAzCD,IAyCC;YAzCD,yDAyCC,CAAA","sourcesContent":["import {Component, OnInit} from 'angular2/core';\nimport {Artist, ArtistService} from './artist.service';\nimport {RouteParams, Router} from 'angular2/router';\nimport {CanDeactivate, ComponentInstruction} from 'angular2/router';\n\n@Component({\n  templateUrl: 'app/artist/artist-detail.component.html',\n  styleUrls: ['app/artist/artist-detail.component.css']\n})\nexport class ArtistDetailComponent implements OnInit, CanDeactivate {\n\n  artist: Artist;\n  editName: string;\n\n  constructor(private _service: ArtistService, private _router: Router, private _routeParams: RouteParams) { \n  }\n\n  ngOnInit() {\n    let id = Number(this._routeParams.get('id'));\n    this._service.get(id).then(artist => {\n      if (artist) {\n        this.editName = artist.name;\n        this.artist = artist;\n      } else {\n        this.gotoList();\n      }\n    });\n  }\n\n  routerCanDeactivate(next: ComponentInstruction, prev: ComponentInstruction): any {\n    if (!this.artist || this.artist.name === this.editName) {\n      return true;\n    }\n\n    return new Promise<boolean>((resolve, reject) => resolve(window.confirm('Discard changes?')));\n  }\n\n  cancel() {\n    this.editName = this.artist.name;\n    this.gotoList();\n  }\n\n  save() {\n    this.artist.name = this.editName;\n    this.gotoList();\n  }\n\n  gotoList() {\n    this._router.navigate(['ArtistList']);\n  }\n}\n"]}